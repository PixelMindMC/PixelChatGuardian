# ============================================================
# PixelChat Guardian
# ============================================================
#
# Main configuration file for PixelChat Guardian.
#
# Generated for version ${version}.
# Ensure to update this file when updating the plugin!
#
# For support or inquiries, please contact us via GitHub, Discord or Modrinth.
#
# ============================================================

# Configuration version
version: ${version}

# =================== General Settings =======================

# General plugin configuration
general:

  # Supported languages: en, de, es, fr, nl, zh-cn, zh-tw, custom
  # Default: en
  language: en

  # Enable plugin metrics and data collection
  # Default: true
  enable-metrics: true

  # Check for plugin updates on startup
  # Default: true
  check-for-updates: true

  # Logging level: DEBUG, INFO, WARNING, ERROR
  # Default: INFO
  log-level: INFO

# =================== Plugin Support Settings ================

# Third-party plugin integration settings
plugin-support:

  # CarbonChat integration support
  # Tested with version 3.0.0-beta.36
  # Default: true
  carbonchat: true

# =================== Module Settings ========================

# Enable/disable plugin modules
modules:

  # AI-powered chat moderation
  # Default: true
  chatguard: true

  # Emoji replacement and processing
  # Default: true
  emojis: true

  # Chat color and format code processing
  # Default: true
  chat-codes: true

# =================== AI and API Settings ====================

# AI moderation and API configuration
api:

  # API endpoint (OpenAI-compatible)
  # Default: "https://api.groq.com/openai/v1/chat/completions"
  endpoint: "https://api.groq.com/openai/v1/chat/completions"

  # AI model for moderation
  # Examples for groq: "llama-3.3-70b-versatile", "llama-3.1-8b-instant"
  # Default: "llama-3.3-70b-versatile"
  ai-model: "llama-3.3-70b-versatile"

  # API key for authentication
  # Replace with your actual API key
  key: "API-KEY"

  # System prompt for AI moderation
  # WARNING: Modifying this may break the moderation system
  # Context: Analyze messages and respond in JSON with fields "block" (boolean) and "reason" (string)
  sys-prompt: >
    "You are an AI moderation assistant for a Minecraft server chat. Analyze each player message and respond ONLY in JSON format with the following structure:
    {
      "isOffensiveLanguage": boolean,
      "isUsername": boolean,
      "isPassword": boolean,
      "isHomeAddress": boolean,
      "isEmail": boolean,
      "isWebsite": boolean,
      "isSexualContent": boolean,
      "block": boolean,
      "reason": string
    }
    
    Detection Criteria:
      - isOffensiveLanguage: offensive language, slurs, hate speech, severe insults, or real-world crime references
      - isUsername: contains username or player identifier
      - isPassword: appears to contain password or login credentials
      - isHomeAddress: contains real-world address or location
      - isEmail: includes email address
      - isWebsite: contains website link or URL
      - isSexualContent: sexual content, innuendo, adult or explicit references
    
    Blocking Rules:
      - Block if isOffensiveLanguage, isSexualContent, isPassword, or isHomeAddress is true
      - Block sensitive personal information (emails, addresses, usernames, passwords)
      - Block sexual or explicit content
      - Block unauthorized websites (if configured)
      - Allow in-game-related content (e.g., "kill all the zombies")
    
    Reason Format (translate to user's language):
      - "Offensive language"
      - "Hate speech or slur"
      - "Severe insult"
      - "Reference to real-world crimes"
      - "Sexual content"
      - "Sensitive personal information"
      - "Username or player identifier"
      - "Password or login credentials"
      - "Email address"
      - "Home address or location"
      - "Not allowed websites"
      - "Phishing or scam attempt"
      - "Inappropriate or adult content"
      - "Threatening or violent language"
      - "Other forms of harmful language"
    
    IMPORTANT: Respond with ONLY the JSON object, no additional text or explanations."

# =================== ChatGuard Settings =====================

# Chat moderation and filtering system
chatguard:

  # Custom prefix display settings
  custom-prefix:

    # Enable custom prefix for moderation messages
    # Default: false
    enabled: false

    # Custom prefix format (Minecraft color codes supported)
    # Default: "§8[§c§lPixel§9Chat§r§8]"
    format: "§8[§c§lPixel§9Chat§r§8]"

  # Message handling configuration
  # Default: CENSOR
  # Options: Censor, BLOCK
  message-handling: CENSOR

  # Notify user when message is blocked/censored
  # Default: true
  notify-user: true

  # Content filtering rules
  rules:

    # Block offensive language, hate speech, slurs, etc.
    # Default: true
    block-offensive-language: true

    # Block sharing of usernames/player identifiers
    # Default: true
    block-usernames: true

    # Block sharing of passwords or credentials
    # Default: true
    block-passwords: true

    # Block sharing of physical addresses
    # Default: true
    block-home-addresses: true

    # Block sharing of email addresses
    # Default: true
    block-email-addresses: true

    # Block sharing of website URLs
    # Default: false
    block-websites: false

    # Block sexual or explicit content
    # Default: true
    block-sexual-content: true

  # Player strike management system
  strike-system:

    # Enable built-in strike tracking
    # Default: true
    enabled: true

    # Reset strikes on server restart
    # Default: true
    clear-on-restart: true

    # Strike thresholds and actions
    thresholds:

      # Strikes before kick
      # Default: 3
      kick: 3

      # Strikes before temporary ban
      # Default: 5
      temp-ban: 5

      # Strikes before permanent ban
      # Default: 6
      ban: 6

    # Command templates for strike actions
    commands:

      # Kick command template
      # Placeholders: <player>, <reason>
      # Default: "kick <player> <reason>"
      kick: "kick <player> <reason>"

      # Temporary ban command template
      # Placeholders: <player>, <reason>
      # Default: "kick <player> <reason>"
      temp-ban: "kick <player> <reason>"

      # Permanent ban command template
      # Placeholders: <player>, <reason>
      # Default: "ban <player> <reason>"
      ban: "ban <player> <reason>"

      # Custom strike command (requires external plugin)
      # Placeholders: <player>, <reason>
      # Example: "strike add <player> <reason>"
      custom-strike: "strike add <player> <reason>"